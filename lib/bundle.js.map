{"version":3,"sources":["webpack:///webpack/bootstrap 70acbc8785b98dcdd07c","webpack:///./lib/paper.js","webpack:///./lib/game.js","webpack:///./lib/painter.js","webpack:///./lib/grid.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;;;;;;;;;;ACVD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2EAAyB,eAAe;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;ACxDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;AAIA;;;;;;;;;AC/GA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 70acbc8785b98dcdd07c","import Game from \"./game\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const game = new Game(canvasEl, ctx);\n  game.start(ctx);\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/paper.js\n// module id = 0\n// module chunks = 0","import Grid from \"./grid\";\nimport Painter from \"./painter\";\n\nclass Game {\n  constructor(canvas, ctx) {\n    this.grid = [];\n    this.painter = [];\n\n    this.ctx = ctx;\n    this.canvas = canvas;\n    this.addGrid(canvas);\n    this.addPainter(canvas);\n  }\n\n  addGrid(canvas) {\n    let grid = new Grid({canvas: canvas});\n    console.log(grid.width);\n    this.grid.push(grid);\n  }\n\n  addPainter(canvas) {\n  let player = new Painter(canvas);\n  this.painter.push(player);\n}\n\n  allObjects(){\n    return [].concat(this.grid, this.painter);\n  }\n\n  draw(ctx) {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    this.allObjects().forEach((object) => {\n      object.draw(this.ctx);\n    });\n  }\n\n\n  start() {\n    this.lastTime = 0;\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time){\n    const timeDelta = time - this.lastTime;\n    \n    this.draw(this.ctx);\n    this.lastTime = time;\n\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nGame.BG_COLOR = \"#000000\";\nGame.DIM_X = 1000;\nGame.DIM_Y = 600;\n\nexport default Game;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game.js\n// module id = 1\n// module chunks = 0","const Game = require(\"./game\");\n\nclass Painter {\n  constructor(canvas){\n    this.canvas = canvas;\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.cellSize = 25;\n    document.addEventListener('keydown', this.keyDown.bind(this), false);\n\n  //   this.height = options.dim;\n  //   this.width = options.dim;\n    this.x = 0.5 * this.width - 15;\n    this.y = 0.5 * this.height - 15;\n    this.painted = [\n      [this.x, this.y],\n      [this.x + this.cellSize, this.y],\n      [this.x + this.cellSize, this.y + this.cellSize],\n      [this.x - this.cellSize, this.y + this.cellSize],\n      [this.x, this.y + this.cellSize],\n      [this.x - this.cellSize, this.y],\n      [this.x - this.cellSize, this.y - this.cellSize],\n      [this.x + this.cellSize, this.y - this.cellSize],\n      [this.x, this.y - this.cellSize]\n    ];\n    this.trail = [];\n  }\n\n  keyDown(e) {\n    switch(e.keyCode) {\n      case 37:\n        this.x -= this.cellSize;\n        break;\n      case 38:\n        this.y -= this.cellSize;\n        break;\n      case 39:\n        this.x += this.cellSize;\n        break;\n      case 40:\n        this.y += this.cellSize;\n        break;\n    }\n    if ((this.painted.find(el => el[0] === this.x\n      && el[1] === this.y) === undefined)\n     && (this.trail.find(el => el[0] === this.x\n       && el[1] === this.y) === undefined)) {\n      this.trail_safe = false;\n      this.trail.push([this.x, this.y]);\n    } else {\n      this.painted = this.painted.concat(this.trail);\n      this.trail = [];\n      this.painted = this.sortCoords(this.painted);\n      this.painted = this.mapAllCoords(this.painted);\n    }\n    console.log(this.sortCoords(this.painted));\n    console.log(this.sortCoords(this.trail));\n  }\n\n  draw(ctx) {\n  ctx.beginPath();\n    this.trail.forEach( coord => {\n      ctx.fillRect(coord[0], coord[1], this.cellSize, this.cellSize);\n      ctx.fillStyle=\"#86E0BE\";\n\n    });\n    this.painted.forEach( coord => {\n      ctx.rect(coord[0], coord[1], this.cellSize, this.cellSize);\n      ctx.fillStyle=\"#58A45C\";\n    });\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  sortCoords(arr){\n    let sorted = arr.slice();\n\n    const funcSort = (x,  y) => {\n      return (x[0] - y[0] || x[1] - y[1]) ;\n    };\n\n    sorted = sorted.sort(funcSort);\n\n    return sorted;\n  }\n\n  mapAllCoords(sortedArr) {\n    let newArr = sortedArr.slice();\n    newArr.slice(0, sortedArr.length - 1).forEach( (coord, idx) => {\n      if ((newArr[idx][0] === newArr[idx + 1][0])\n        && (newArr[idx][1] !== (newArr[idx + 1][1]) - 25)) {\n          newArr.splice(\n            (idx + 1), 0, [parseInt(newArr[idx][0]), parseInt(newArr[idx][1]) + 25]\n          );\n        }\n    });\n    return newArr;\n  }\n\n  fillPath(ctx) {\n    ctx.beginPath();\n    this.painted.forEach( coord => {\n      ctx.rect(coord[0], coord[1], this.cellSize, this.cellSize);\n    });\n    ctx.fillStyle=\"#58A45C\";\n    ctx.closePath();\n    ctx.fill();\n  }\n}\n\n\n\nexport default Painter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/painter.js\n// module id = 3\n// module chunks = 0","\nclass Grid {\n  constructor(options){\n    this.canvas = options.canvas;\n    this.cols = 40;\n    this.rows = 24;\n  }\n\n  draw(ctx) {\n    ctx.rect(15, 15, this.canvas.width-30, this.canvas.height-30);\n    ctx.stroke();\n  }\n}\n\nexport default Grid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/grid.js\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}